<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>나이 계산기 - 어르신 생활도우미</title>
    <link rel="stylesheet" href="/css/base.css" />
    <link rel="stylesheet" href="/css/age.css" />

</head>

<body>
<div class="page">

    <a href="/index.html" class="back-btn">←</a>

    <div class="page-title">만 나이 계산기</div>
    <div class="page-subtitle">출생 연도를 넣으면 올해 나이를 알려드립니다.</div>

    <!-- 입력 -->
    <div class="input-card">
        <input id="birthYear"
               class="big-input"
               type="number"
               placeholder="예: 1950" />

        <button class="big-btn" onclick="goAgeResult()">계산하기</button>
    </div>

    <div style="margin-top:32px; font-size:30px; font-weight:600;">
        혹시 연도가 기억나지 않으신가요?
    </div>

    <!-- 띠 선택 -->
    <div class="input-card">

        <div style="font-size:26px; margin-bottom:12px; color:var(--text-sub);">
            태어난 띠를 누르시면 가능한 출생 연도가 아래에 나옵니다.
        </div>

        <!-- 12띠 버튼 -->
        <div class="zodiac-grid">
            <button onclick="selectZodiac('쥐')">쥐띠</button>
            <button onclick="selectZodiac('소')">소띠</button>
            <button onclick="selectZodiac('호랑이')">호랑이띠</button>
            <button onclick="selectZodiac('토끼')">토끼띠</button>

            <button onclick="selectZodiac('용')">용띠</button>
            <button onclick="selectZodiac('뱀')">뱀띠</button>
            <button onclick="selectZodiac('말')">말띠</button>
            <button onclick="selectZodiac('양')">양띠</button>

            <button onclick="selectZodiac('원숭이')">원숭이띠</button>
            <button onclick="selectZodiac('닭')">닭띠</button>
            <button onclick="selectZodiac('개')">개띠</button>
            <button onclick="selectZodiac('돼지')">돼지띠</button>
        </div>

        <!-- 여기 아래에 연도 후보 표시됨 -->
        <div id="yearList" style="margin-top:20px; font-size:26px;"></div>
    </div>

</div>


<script>
    function goAgeResult() {
        const y = document.getElementById("birthYear").value;
        if (!y) return alert("출생 연도를 입력해주세요.");
        location.href = `/age/result.html?year=${y}`;
    }

    const CURRENT_YEAR = new Date().getFullYear();

    // 12지 코드
    const zodiacOrder = {
        "쥐": 4, "소": 5, "호랑이": 6, "토끼": 7,
        "용": 8, "뱀": 9, "말": 10, "양": 11,
        "원숭이": 0, "닭": 1, "개": 2, "돼지": 3
    };

    function selectZodiac(zodiac) {
        const targetIdx = zodiacOrder[zodiac];
        const years = [];

        // 120년 범위
        for (let y = CURRENT_YEAR - 120; y <= CURRENT_YEAR; y++) {
            if (y % 12 === targetIdx) {
                years.push(y);
            }
        }

        const box = document.getElementById("yearList");

        box.innerHTML = `
            <div style="font-size:28px; color:var(--primary); font-weight:600; margin-bottom:12px;">
                가능한 출생 연도
            </div>
        ` + years.map(y =>
            `<button class="cand-year-btn" onclick="goYear(${y})">${y}년</button>`
        ).join("");
    }

    function goYear(y) {
        location.href = `/age/result.html?year=${y}`;
    }
</script>

</body>
</html>
